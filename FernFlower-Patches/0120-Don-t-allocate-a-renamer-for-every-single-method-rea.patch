From fd28c848f1295a31d38e69f7f5dd7afec52f208f Mon Sep 17 00:00:00 2001
From: cpw <cpw@weeksfamily.ca>
Date: Mon, 23 Nov 2015 14:27:08 -0500
Subject: [PATCH 120/122] Don't allocate a renamer for every single method
 read. That should cut down the memory quite a lot.

---
 src/org/jetbrains/java/decompiler/struct/StructMethod.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/org/jetbrains/java/decompiler/struct/StructMethod.java b/src/org/jetbrains/java/decompiler/struct/StructMethod.java
index 68f5427..77fd181 100644
--- a/src/org/jetbrains/java/decompiler/struct/StructMethod.java
+++ b/src/org/jetbrains/java/decompiler/struct/StructMethod.java
@@ -80,7 +80,6 @@ public class StructMethod extends StructMember {
       attributes.addAllWithKey(codeAttributes);
       codeAttributes = null;
     }
-    this.renamer = DecompilerContext.getNamingFactory().createFactory(this);
   }
 
   @Override
@@ -121,6 +120,7 @@ public class StructMethod extends StructMember {
     if (containsCode && !expanded) {
       byte[] code = classStruct.getLoader().loadBytecode(this, codeFullLength);
       seq = parseBytecode(new DataInputFullStream(code), codeLength, classStruct.getPool());
+      this.renamer = DecompilerContext.getNamingFactory().createFactory(this);
       expanded = true;
     }
   }
-- 
2.21.0.windows.1

